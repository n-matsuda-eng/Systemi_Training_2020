

### 第5章　標準ライブラリ

1. ラッパークラス
* Javaでは、基本型をオブジェクトとして扱うために「ラッパークラス」と呼ばれるクラスを用意している。ラッパークラスとは「単なる値にすぎない基本型のデータを包んで(ラップして)、オブジェクトとしての機能を付与するためのクラス」のこと。  
* ボクシング/アンボクシング  
Javaでは、基本型からラッパーオブジェクトへの変換を暗黙的に実施するための仕組みを備えており、「ボクシング」と言う。  
一方、ラッパーオブジェクトから基本型への暗黙的な変換のことを「アンボクシング」と言う。  
2. 文字列の操作
* 文字列型の実体はStringというクラス。文字列リテラルを表すということは、内部的にはStringクラスのインスタンスを生成するということ。Stringクラスは、文字列の加工/成形、部分文字列の検索/取得など、文字列の操作に関わる機能を提供する。  
* 文字列の長さを取得する。  
→lengthメソッドを使用する。  
* 文字列を比較する。  
→文字列の単純比較はequlsメソッドを使用する、ただし、
辞書的な大小を比較するときは、compareToメソッドを使用する。  
* 文字列が空であるかを判定する。  
→isEmptyメソッドを使用する。  
* 文字列の前後から空白を除去する。  
→stripメソッドを使用する。ここでいう空白はisBlankメソッドが認識するものと同じ。また、文字前方の空白だけを除去するstripLeading、後方の空白だけを除去するstripTrailingメソッドもある。  
* 文字列を検索する。  
→ある文字列の中で、特定の部分の文字列が登場する文字位置を取得するには、indexOf/lastIndexOfメソッドを利用する。  
* 文字列に特定の文字列が含まれるか判定する。  
→文字列に指定された文字列が含まれるかを判定するには、containsメソッドを使用する。また、含まれているかだけではなく、ある文字列が先頭/末尾に位置するかを判定するには、startswith/endswitchメソッドを使用する。  
* 部分文字列を取得する。  
→substringメソッドを使用する。  
* 文字列を特定の区切り文字で分割する。  
→splitメソッドを使用する。  
* 文字列を整形する。  
→formatメソッドを使用する。  
3. 正規表現
* 正規表現(Regular Expression)とは「あいまいな文字列のパターンを表現するための記法」のこと。ワイルドカードをもっと高度にしたもの。  
* 正規表現の基本  
→P163 表5.6 Javaで利用できる主な正規表現パターン 参照。  
* 文字列が正規表現パターンにマッチしたかを判定する。  
→Patternクラス(java.util.regex)のmatches静的メソッドを使用する。  
* 正規表現で文字列を検索する。  
→単にマッチしたかどうかを判定するだけでなく、マッチした文字列をもとの文字列から抜き出したい
場合には、Pattern/Matcherクラスを使用する。  
* 正規表現オプションでマッチング時の挙動を制御する。  
→Patternクラスをインスタンス化する際には、第2引数に検索オプション(マッチング)を渡すこともできる。  
* 正規表現で文字列を置換する。  
→StringクラスのreplaceAllメソッドを利用する。  
* 正規表現で文字列を分割する。  
→正規表現で文字列を分割するには、patternクラスのsplitメソッドを利用する。  
4. 日付/時刻の操作
* Date-Time APIを使用する。  
* 日付/時刻オブジェクトを生成する。  
(1)現在の日付/時刻から生成する。  
→nowメソッドを利用する。ただし、XxxxxDateでは日付だけを、XxxxxToimeでは時刻だけを返す。  
(2)指定された年月日、時分秒から生成する。
→ofメソッドを利用する。ただし、LocalXxxxx、OffsetXxxxx、ZonedDateTimeクラスで、それぞれ指定できる引数が異なる点に注意すること。  
(3)日付/時刻文字から変換する。  
→parseメソッドを利用する。  
* 日付/時刻を比較する。  
→日付/時刻同士(dt1/dt2)を比較するには、equals/isBefore/isAfterメソッドを使用する。equalsはdt1/dt2が等しいか、isBeforeはdt1 < dt2か、isAfterはdt1 > dt2 かを比較する。  
* 年月日、時分秒などの時刻要素を取得する。  
→getXxxxxメソッドを利用する。P186 表5.15参照  
* 日付/時刻値を整形する。  
→formatメソッドを使用する。  
* 日付/時刻値の差分を取得する。  
→Period/Durationクラス(java.timeパッケージ)のbitween静的メソッドを使用する。Periodは日付間隔を、Durarionは時間間隔を表すためのメソッド。  
* 日付を加算/減算する。  
→加算にはplusメソッド、減算にはminusメソッドを使用する。  
5. ストリーム
* Javaではストリーム(Stream)という仕組みを利用して、入出力処理を行う。ストリームを利用することで、入出力に関わらず(メモリでもファイルでもネットワークでも)同じくデータの連なりとして見える。  
ストリームには、ファイル/ネットワークなどからデータを受け取る「入力ストリーム」とデータを書き出すための「出力ストリーム」等がある。  
* テキストをファイルに書き込む  
→BufferedWriterクラスを使用する。  
* テキストファイルを読み込む  
→BufferedReadクラスを使用する。  
* バイナリファイルの読み書き  
→BufferedInputStream/BufferdOutputStreamを使用する。  
* その他の機能  
(1)数値演算 Mathクラス 
→絶対値や四捨五入、三角関数などの演算機能を提供する。  
(2)long型以上の整数を演算する。 Bigintegerクラス  
→基本的な四則演算、比較などが行える。P214 表5.29参照  
(3)乱数を生成する。 Randomクラス  
→Randamクラスでは取得したい乱数に応じて、nextXxxxxメソッドを使用する。P216 表5.30参照  
(4)数値を整形する。 NumberFormatクラス  
→利用するフォーマットに応じて、getXxxxxInstanceメソッドを使用する。 P216 表5.31参照  
(5)配列を操作する。 Arraysクラス  
→検索、ソート、コピーなどの配列操作に関わる静的メソッドが用意されている。 P218表5.33参照  
(6)ファイルシステムを操作する。 Filesクラス  
→フォルダ/ファイルの情報を取得したり、生成/コピー/移動/削除といった基本的な操作のためのメソッド。  
(7)HTTP経由でコンテンツを取得する。 HttpClientクラス  
→HTTP経由で外部のサービス/コンテンツにアクセスするためのクラス。  
